import{_ as c}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as i,c as r,a as n,d as a,w as e,b as s,e as p,r as l}from"./app.6aa2b576.js";const u={},d=p(`<h1 id="work-manager-\u5B9A\u65F6\u4E0E\u4EFB\u52A1" tabindex="-1"><a class="header-anchor" href="#work-manager-\u5B9A\u65F6\u4E0E\u4EFB\u52A1" aria-hidden="true">#</a> work_manager - \u5B9A\u65F6\u4E0E\u4EFB\u52A1</h1><p>\u8BE5\u6A21\u5757\u7528\u4E8E\u7BA1\u7406\u4EFB\u52A1\uFF0C\u7528\u4E8E\u5728\u67D0\u4E9B\u65F6\u95F4\u6216\u67D0\u4E9B\u4E8B\u4EF6\u3001\u5904\u7406\u6587\u4EF6\u65F6\u81EA\u52A8\u8FD0\u884C\u811A\u672C\u3002\u6B63\u5982Auto.js Pro\u5185\u7F6E\u7684\u5B9A\u65F6\u4EFB\u52A1\u529F\u80FD\u4E00\u6837\uFF0C\u6253\u5305\u7684\u811A\u672C\u4E5F\u53EF\u4EE5\u4F7F\u7528\u8FD9\u4E9B\u51FD\u6570\u6765\u521B\u5EFA\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p>\u6DFB\u52A0\u4EFB\u52A1\u65F6\u5EFA\u8BAE\u52A0\u4E0A\u7533\u8BF7\u5FFD\u7565\u7535\u6C60\u4F18\u5316\u7684\u4EE3\u7801\uFF0C\u9632\u6B62\u88ABAndroid\u9650\u5236\u5728\u540E\u53F0\u8FD0\u884C\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> power_manager <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;power_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>power_manager<span class="token punctuation">.</span><span class="token function">isIgnoringBatteryOptimizations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;\u672A\u5F00\u542F\u5FFD\u7565\u7535\u6C60\u4F18\u5316&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  power_manager<span class="token punctuation">.</span><span class="token function">requestIgnoreBatteryOptimizations</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>\u7531\u4E8E\u5404\u7CFB\u7EDF\u7684\u9650\u5236\uFF0C\u5B9A\u65F6\u4EFB\u52A1\u4E0D\u80FD\u4E00\u5B9A\u4FDD\u8BC1\u51C6\u65F6\u8FD0\u884C\uFF0C\u8BF7\u5C3D\u91CF\u5C06Auto.js Pro\u52A0\u5165\u5404\u79CD\u767D\u540D\u5355\u548C\u5141\u8BB8\u81EA\u542F\u52A8\u6743\u9650\u3002</p></blockquote><h2 id="\u76EE\u5F55" tabindex="-1"><a class="header-anchor" href="#\u76EE\u5F55" aria-hidden="true">#</a> \u76EE\u5F55</h2><h3 id="\u63A5\u53E3" tabindex="-1"><a class="header-anchor" href="#\u63A5\u53E3" aria-hidden="true">#</a> \u63A5\u53E3</h3>`,7),k=n("h3",{id:"\u7C7B\u578B\u522B\u540D",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u7C7B\u578B\u522B\u540D","aria-hidden":"true"},"#"),s(" \u7C7B\u578B\u522B\u540D")],-1),m=n("h3",{id:"\u51FD\u6570",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u51FD\u6570","aria-hidden":"true"},"#"),s(" \u51FD\u6570")],-1),g=p('<h2 id="\u7C7B\u578B\u522B\u540D-1" tabindex="-1"><a class="header-anchor" href="#\u7C7B\u578B\u522B\u540D-1" aria-hidden="true">#</a> \u7C7B\u578B\u522B\u540D</h2><h3 id="datetime" tabindex="-1"><a class="header-anchor" href="#datetime" aria-hidden="true">#</a> DateTime</h3><p>\u01AC <strong>DateTime</strong>: <code><span class="token property">number</span></code> | <code><span class="token property">string</span></code> | <code><span class="token property">Date</span></code></p><p>\u65E5\u671F\u65F6\u95F4\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662Fnumber\uFF0C\u8868\u793A\u6BEB\u79D2\u65F6\u95F4\u6233\uFF1B\u53EF\u4EE5\u662Fstring\uFF0C\u8868\u793A\u6807\u51C6\u65F6\u95F4\u683C\u5F0F\uFF1B\u53EF\u4EE5\u662FDate\u5BF9\u8C61\uFF0C\u8868\u793A\u65E5\u671F\u5BF9\u8C61\u3002</p><hr><h3 id="daysofweek" tabindex="-1"><a class="header-anchor" href="#daysofweek" aria-hidden="true">#</a> DaysOfWeek</h3><p>\u01AC <strong>DaysOfWeek</strong>: <code><span class="token string">&quot;Sunday&quot;</span></code> | <code><span class="token string">&quot;Monday&quot;</span></code> | <code><span class="token string">&quot;Tuesday&quot;</span></code> | <code><span class="token string">&quot;Wednesday&quot;</span></code> | <code><span class="token string">&quot;Thursday&quot;</span></code> | <code><span class="token string">&quot;Friday&quot;</span></code> | <code><span class="token string">&quot;Saturday&quot;</span></code> | <code><span class="token string">&quot;\u4E00&quot;</span></code> | <code><span class="token string">&quot;\u4E8C&quot;</span></code> | <code><span class="token string">&quot;\u4E09&quot;</span></code> | <code><span class="token string">&quot;\u56DB&quot;</span></code> | <code><span class="token string">&quot;\u4E94&quot;</span></code> | <code><span class="token string">&quot;\u516D&quot;</span></code> | <code><span class="token string">&quot;\u65E5&quot;</span></code></p><hr><h3 id="tasktype" tabindex="-1"><a class="header-anchor" href="#tasktype" aria-hidden="true">#</a> TaskType</h3><p>\u01AC <strong>TaskType</strong>: <code><span class="token string">&quot;TimedTask&quot;</span></code> | <code><span class="token string">&quot;IntentTask&quot;</span></code></p><h2 id="\u51FD\u6570-1" tabindex="-1"><a class="header-anchor" href="#\u51FD\u6570-1" aria-hidden="true">#</a> \u51FD\u6570</h2><h3 id="addactivityintenttask" tabindex="-1"><a class="header-anchor" href="#addactivityintenttask" aria-hidden="true">#</a> addActivityIntentTask</h3><p>\u25B8 <strong>addActivityIntentTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u6DFB\u52A0\u5728\u5916\u90E8\u5E94\u7528\u5904\u7406\u6587\u4EF6\u65F6\u8FD0\u884C\u7684\u4EFB\u610F\u56FE\u52A1\u3002\u6BD4\u5982\u6587\u4EF6\u7BA1\u7406\u4E2D\u8BF7\u6C42\u6253\u5F00\u6587\u4EF6\u3001\u5176\u4ED6\u5E94\u7528\u4E2D\u5206\u4EAB\u6587\u4EF6\u6216\u6587\u672C\u65F6\uFF0C\u82E5\u9009\u62E9\u7531Auto.js\u5904\u7406\uFF0C\u5219\u89E6\u53D1\u76F8\u5E94\u4EFB\u52A1\u8FD0\u884C\u3002</p><p>\u9996\u8981\u53C2\u6570\u662Faction\uFF0C\u51B3\u5B9A\u4E86\u4EC0\u4E48\u52A8\u4F5C\u4F1A\u89E6\u53D1\u4EFB\u52A1\u8FD0\u884C\u3002\u6BD4\u5982\uFF1A</p>',15),v=p('<li><code>android<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token constant">VIEW</span></code>\uFF1A\u5916\u90E8\u5E94\u7528\u6253\u5F00\u6587\u4EF6\u65F6\u89E6\u53D1\uFF0C\u6BD4\u5982\u6587\u4EF6\u7BA1\u7406\u5668\u4E2D\u6253\u5F00mp3\u3001apk\u7B49\u6587\u4EF6</li><li><code>android<span class="token punctuation">.</span>intent<span class="token punctuation">.</span>action<span class="token punctuation">.</span><span class="token constant">SEND</span></code>\uFF1A\u5176\u4ED6\u5E94\u7528\u5206\u4EAB\u6587\u4EF6\u65F6\u89E6\u53D1</li>',2),h={href:"https://developer.android.google.cn/reference/android/content/Intent#constants_1",target:"_blank",rel:"noopener noreferrer"},y=p(`<p>\u5176\u6B21\u662FdataType\uFF0C\u51B3\u5B9A\u4E86\u4EC0\u4E48\u7C7B\u578B\u7684\u6587\u4EF6\u4F1A\u89E6\u53D1\u4EFB\u52A1\u8FD0\u884C\u3002\u6BD4\u5982\uFF1A</p><ul><li><em>/</em>\uFF1A\u6240\u6709\u6587\u4EF6</li><li>application/vnd.android.package-archive: apk\u6587\u4EF6</li><li>text/plain: \u6587\u672C\u6587\u4EF6</li><li>video/*: \u89C6\u9891\u6587\u4EF6</li><li>image/*: \u56FE\u7247\u6587\u4EF6</li></ul><p>\u4EE5\u4E0B\u4EE3\u7801\u6267\u884C\u540E\u5C06\u6DFB\u52A0\u4E00\u4E2A\u53EF\u4EE5\u5728\u5916\u90E8\u5E94\u7528\u67E5\u770B\u6587\u672C\u6587\u4EF6\u7684\u4EFB\u52A1\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> addActivityIntentTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">addActivityIntentTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/sdcard/\u811A\u672C/handle_text.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token string">&#39;android.intent.action.VIEW&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">dataType</span><span class="token operator">:</span> <span class="token string">&quot;text/plain&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Task </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>task<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> added</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5\u4E0B\u4EE3\u7801\u662Fhandle_text.js\u7684\u5185\u5BB9\uFF0C\u4ED6\u4F1A\u6267\u884C\u65F6\u8BFB\u53D6\u8981\u5904\u7406\u7684\u6587\u4EF6\u5185\u5BB9\u5E76\u6253\u5370\uFF1A</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// handle_text.js
&quot;nodejs&quot;;
const { myEngine } = require(&#39;engines&#39;);
const { getPathFromUri } = require(&#39;app&#39;);
const { readFileSync } = require(&#39;fs&#39;);
const intent = myEngine().execArgv.intent;
if (!intent) {
    process.exit();
}
const uri = intent.getUri();
const file = getPathFromUri(uri);
console.log(file);
console.log(readFileSync(file, &#39;utf8&#39;));
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570" aria-hidden="true">#</a> \u53C2\u6570</h4>`,7),b=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B"),n("th",{style:{"text-align":"left"}},"\u63CF\u8FF0")])],-1),f=n("td",{style:{"text-align":"left"}},[n("code",null,[n("span",{class:"token property"},"task")])],-1),_={style:{"text-align":"left"}},T=n("code",null,[n("span",{class:"token property"},"IntentTaskConfig")],-1),q=n("td",{style:{"text-align":"left"}},"\u610F\u56FE\u4EFB\u52A1\u914D\u7F6E",-1),x=p(`<h4 id="\u8FD4\u56DE\u503C" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u6DFB\u52A0\u7684\u4EFB\u52A1\u7684Promise</p><hr><h3 id="addbroadcastintenttask" tabindex="-1"><a class="header-anchor" href="#addbroadcastintenttask" aria-hidden="true">#</a> addBroadcastIntentTask</h3><p>\u25B8 <strong>addBroadcastIntentTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u65B0\u589E\u4E00\u4E2A\u5E7F\u64AD\u4EFB\u52A1\uFF0C\u4F1A\u5728\u7279\u5B9A\u4E8B\u4EF6(\u5E7F\u64AD)\u65F6\u8FD0\u884C\u3002</p><p>\u6700\u5173\u952E\u7684\u53C2\u6570\u662F\u5E7F\u64AD\u4E8B\u4EF6\u7684Action\u3002\u7CFB\u7EDF\u5728\u53D1\u751F\u7279\u5B9A\u4E8B\u4EF6\uFF08\u6BD4\u5982\u7535\u91CF\u53D8\u5316\uFF09\u65F6\u4F1A\u53D1\u51FA\u7279\u5B9AAction\u7684\u5E7F\u64AD\u3002</p><p>\u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A\u5728\u7535\u91CF\u53D1\u751F\u53D8\u5316\u65F6\u8FD0\u884C\u811A\u672C\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> android <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rhino&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Packages<span class="token punctuation">;</span>
<span class="token keyword">const</span> Intent <span class="token operator">=</span> android<span class="token punctuation">.</span>content<span class="token punctuation">.</span>Intent<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> addBroadcastIntentTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addBroadcastIntentTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/path/to/script.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">action</span><span class="token operator">:</span> Intent<span class="token punctuation">.</span><span class="token constant">ACTION_BATTERY_CHANGED</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Task </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>task<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> added</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10),w={href:"https://developer.android.google.cn/reference/android/content/Intent#constants_1",target:"_blank",rel:"noopener noreferrer"},I=n("code",null,[s("ConnectivityManager"),n("span",{class:"token punctuation"},"."),n("span",{class:"token constant"},"CONNECTIVITY_ACTION")],-1),A=p(`<p>\u4EE5\u4E0B\u5217\u51FA\u4E00\u4E9B\u5E38\u89C1\u7684\u5E7F\u64ADAction\uFF1A</p><ul><li>org.autojs.autojs.action.startup : Auto.js\u542F\u52A8\u65F6\uFF0C\u53EF\u7ED9Auto.js\u52A0\u4E0A\u81EA\u542F\u52A8\u540E\u4F7F\u4EFB\u52A1\u5728\u5F00\u673A\u65F6\u8FD0\u884C</li><li>Intent.ACTION_BOOT_COMPLETED : \u5F00\u673A\u65F6</li><li>Intent.ACTION_SCREEN_OFF : \u7184\u5C4F\u65F6</li><li>Intent.ACTION_SCREEN_ON : \u4EAE\u5C4F\u65F6</li><li>Intent.ACTION_USER_PRESENT : \u5C4F\u5E55\u89E3\u9501\u65F6</li><li>Intent.ACTION_BATTERY_CHANGED : \u7535\u91CF\u53D8\u5316\u65F6</li><li>Intent.ACTION_POWER_CONNECTED : \u7535\u6E90\u8FDE\u63A5\u65F6</li><li>Intent.ACTION_POWER_DISCONNECTED : \u7535\u6E90\u65AD\u5F00\u65F6</li><li>ConnectivityManager.CONNECTIVITY_ACTION : \u7F51\u7EDC\u8FDE\u63A5\u53D8\u5316\u65F6</li><li>Intent.ACTION_PACKAGE_ADDED : \u65B0\u5E94\u7528\u5B89\u88C5\u65F6</li><li>Intent.ACTION_PACKAGE_REMOVED : \u5E94\u7528\u5378\u8F7D\u65F6</li><li>Intent.ACTION_PACKAGE_REPLACED : \u5E94\u7528\u66F4\u65B0\u65F6</li><li>Intent.ACTION_HEADSET_PLUG : \u8033\u673A\u62D4\u63D2\u65F6</li><li>Intent.ACTION_CONFIGURATION_CHANGED : \u67D0\u4E9B\u8BBE\u7F6E\uFF08\u5C4F\u5E55\u65B9\u5411\u3001\u5730\u533A\u7B49\uFF09\u66F4\u6539\u65F6</li><li>Intent.ACTION_TIME_TICK : \u6BCF\u5206\u949F\u4E00\u6B21</li></ul><p>\u5728\u5E7F\u64AD\u4EFB\u52A1\u8FD0\u884C\u65F6\uFF0C\u901A\u8FC7<code><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;engines&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">myEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>execArgv<span class="token punctuation">.</span>intent</code>\u83B7\u53D6\u5E7F\u64AD\u7684Intent\u5BF9\u8C61\uFF0C\u901A\u8FC7Intent\u5BF9\u8C61\u83B7\u53D6\u5BF9\u5E94\u7684\u53C2\u6570\u3002</p><p>\u4EE5\u4E0B\u662F\u7535\u91CF\u53D8\u5316\u65F6\u89E6\u53D1\u7684\u4EFB\u52A1\u811A\u672C\uFF0C\u83B7\u53D6\u5F53\u524D\u7535\u91CF\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> myEngine <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;engines&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> android <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;rhino&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Packages<span class="token punctuation">;</span>

<span class="token keyword">const</span> intent <span class="token operator">=</span> <span class="token function">myEngine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>execArgv<span class="token punctuation">.</span>intent<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>intent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   process<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> BatteryManager <span class="token operator">=</span> android<span class="token punctuation">.</span>os<span class="token punctuation">.</span>BatteryManager<span class="token punctuation">;</span>
<span class="token keyword">const</span> level <span class="token operator">=</span> intent<span class="token punctuation">.</span><span class="token function">getIntExtra</span><span class="token punctuation">(</span>BatteryManager<span class="token punctuation">.</span><span class="token constant">EXTRA_LEVEL</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;Battery:&quot;</span><span class="token punctuation">,</span> level<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570-1" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-1" aria-hidden="true">#</a> \u53C2\u6570</h4>`,6),C=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B"),n("th",{style:{"text-align":"left"}},"\u63CF\u8FF0")])],-1),j=n("td",{style:{"text-align":"left"}},[n("code",null,[n("span",{class:"token property"},"task")])],-1),E={style:{"text-align":"left"}},P=n("code",null,[n("span",{class:"token property"},"IntentTaskConfig")],-1),O=n("td",{style:{"text-align":"left"}},"\u610F\u56FE\u4EFB\u52A1\u914D\u7F6E",-1),N=p(`<h4 id="\u8FD4\u56DE\u503C-1" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-1" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u6DFB\u52A0\u7684\u4EFB\u52A1\u7684Promise</p><hr><h3 id="adddailytask" tabindex="-1"><a class="header-anchor" href="#adddailytask" aria-hidden="true">#</a> addDailyTask</h3><p>\u25B8 <strong>addDailyTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u65B0\u589E\u4E00\u4E2A\u6BCF\u65E5\u8FD0\u884C\u4E00\u6B21\u7684\u5B9A\u65F6\u4EFB\u52A1\u3002\u5176\u4E2D\u65F6\u95F4\u53C2\u6570\u4F1A\u53EA\u4FDD\u7559\u6BCF\u5929\u7684\u65F6\u95F4\uFF0C\u5FFD\u7565\u5E74\u6708\u65E5\u3002 \u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A\u6BCF\u65E5\u4E0B\u53481\u70B914\u5206\u8FD0\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p><strong><code>\u793A\u4F8B</code></strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> addDailyTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addDailyTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/path/to/script.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570-2" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-2" aria-hidden="true">#</a> \u53C2\u6570</h4>`,10),D=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B"),n("th",{style:{"text-align":"left"}},"\u63CF\u8FF0")])],-1),z=n("td",{style:{"text-align":"left"}},[n("code",null,[n("span",{class:"token property"},"task")])],-1),B={style:{"text-align":"left"}},W=n("code",null,[n("span",{class:"token property"},"TimedTaskConfig")],-1),R=n("td",{style:{"text-align":"left"}},"\u7528\u4E8E\u63CF\u8FF0\u6B64\u5B9A\u65F6\u4EFB\u52A1\u7684\u914D\u7F6E",-1),M=p('<h4 id="\u8FD4\u56DE\u503C-2" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-2" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><hr><h3 id="addintenttask" tabindex="-1"><a class="header-anchor" href="#addintenttask" aria-hidden="true">#</a> addIntentTask</h3><p>\u25B8 <strong>addIntentTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u65B0\u589E\u4E00\u4E2A\u610F\u56FE\u4EFB\u52A1\uFF0C\u5206\u4E3A\u4E24\u79CD\u7C7B\u578B\uFF1A</p><ul><li>\u5E7F\u64AD\u610F\u56FE\u4EFB\u52A1\uFF1A\u4F1A\u5728\u7279\u5B9A\u4E8B\u4EF6(\u5E7F\u64AD)\u65F6\u8FD0\u884C\u3002</li><li>\u6D3B\u52A8\u610F\u56FE\u4EFB\u52A1\uFF1A\u5728\u5916\u90E8\u5E94\u7528\u5904\u7406\u6587\u4EF6\u65F6\u8FD0\u884C\u3002\u6BD4\u5982\u6587\u4EF6\u7BA1\u7406\u4E2D\u8BF7\u6C42\u6253\u5F00\u6587\u4EF6\u3001\u5176\u4ED6\u5E94\u7528\u4E2D\u5206\u4EAB\u6587\u4EF6\u6216\u6587\u672C\u65F6\uFF0C\u82E5\u9009\u62E9\u7531Auto.js\u5904\u7406\uFF0C\u5219\u89E6\u53D1\u76F8\u5E94\u4EFB\u52A1\u8FD0\u884C\u3002</li></ul>',7),S=n("h4",{id:"\u53C2\u6570-3",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u53C2\u6570-3","aria-hidden":"true"},"#"),s(" \u53C2\u6570")],-1),G=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B")])],-1),V=n("td",{style:{"text-align":"left"}},[n("code",null,[n("span",{class:"token property"},"task")])],-1),L={style:{"text-align":"left"}},Q=n("code",null,[n("span",{class:"token property"},"IntentTaskConfig")],-1),F=p(`<h4 id="\u8FD4\u56DE\u503C-3" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-3" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><hr><h3 id="addonetimetask" tabindex="-1"><a class="header-anchor" href="#addonetimetask" aria-hidden="true">#</a> addOneTimeTask</h3><p>\u25B8 <strong>addOneTimeTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u6B64\u51FD\u6570\u4F1A\u65B0\u589E\u4E00\u4E2A\u4E00\u6B21\u6027\u7684\u5B9A\u65F6\u4EFB\u52A1\uFF0C\u4EFB\u52A1\u5728\u6267\u884C\u4E00\u6B21\u540E\u5C06\u5728\u5B9A\u65F6\u4EFB\u52A1\u4E2D\u81EA\u52A8\u5220\u9664\u3002</p><p>\u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A2021\u5E745\u670821\u65E513\u70B914\u5206\u8FD0\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p><strong><code>\u793A\u4F8B</code></strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> addOneTimeTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addOneTimeTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/sdcard/to/script.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token number">2021</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570-4" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-4" aria-hidden="true">#</a> \u53C2\u6570</h4>`,10),U=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B")])],-1),H=n("td",{style:{"text-align":"left"}},[n("code",null,[n("span",{class:"token property"},"task")])],-1),Y={style:{"text-align":"left"}},K=n("code",null,[n("span",{class:"token property"},"TimedTaskConfig")],-1),$=p(`<h4 id="\u8FD4\u56DE\u503C-4" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-4" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><hr><h3 id="addweeklytask" tabindex="-1"><a class="header-anchor" href="#addweeklytask" aria-hidden="true">#</a> addWeeklyTask</h3><p>\u25B8 <strong>addWeeklyTask</strong>(<code><span class="token property">task</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><p>\u65B0\u589E\u4E00\u4E2A\u6309\u661F\u671F\u8FD0\u884C\u7684\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p>\u4F8B\u5982\u521B\u5EFA\u4E00\u4E2A\u6BCF\u5468\u4E00\u5468\u4E8C\u4E0B\u53481\u70B914\u5206\u7684\u5B9A\u65F6\u4EFB\u52A1</p><p><strong><code>\u793A\u4F8B</code></strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> addWeeklyTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">addWeeklyTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/sdcard/\u811A\u672C/test.js&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">// Mon Jun 21 2021 13:14:00 GMT+0800 </span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1624252440000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">daysOfWeek</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Monday&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;Tuesday&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">task</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570-5" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-5" aria-hidden="true">#</a> \u53C2\u6570</h4><table><thead><tr><th style="text-align:left;">\u540D\u79F0</th><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;"><code><span class="token property">task</span></code></td><td style="text-align:left;"><code><span class="token property">WeeklyTaskConfig</span></code></td><td style="text-align:left;">\u7528\u4E8E\u63CF\u8FF0\u6B64\u5B9A\u65F6\u4EFB\u52A1\u7684\u914D\u7F6E</td></tr></tbody></table><h4 id="\u8FD4\u56DE\u503C-5" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-5" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>&gt;</p><hr><h3 id="getintenttask" tabindex="-1"><a class="header-anchor" href="#getintenttask" aria-hidden="true">#</a> getIntentTask</h3><p>\u25B8 <strong>getIntentTask</strong>(<code><span class="token property">id</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code> | <code><span class="token keyword">null</span></code>&gt;</p><p>\u6839\u636E\u4EFB\u52A1id\u83B7\u53D6\u610F\u56FE\u4EFB\u52A1\u3002</p><p><strong><code>\u53C2\u89C1</code></strong></p><p>Task.id</p><h4 id="\u53C2\u6570-6" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-6" aria-hidden="true">#</a> \u53C2\u6570</h4><table><thead><tr><th style="text-align:left;">\u540D\u79F0</th><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;"><code><span class="token property">id</span></code></td><td style="text-align:left;"><code><span class="token property">number</span></code></td><td style="text-align:left;">\u4EFB\u52A1ID</td></tr></tbody></table><h4 id="\u8FD4\u56DE\u503C-6" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-6" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code> | <code><span class="token keyword">null</span></code>&gt;</p><p>\u67E5\u8BE2\u7684\u4EFB\u52A1\u7684Promise\uFF0C\u5982\u679C\u6CA1\u6709\u627E\u5230\u5219resolve null</p><hr><h3 id="gettimedtask" tabindex="-1"><a class="header-anchor" href="#gettimedtask" aria-hidden="true">#</a> getTimedTask</h3><p>\u25B8 <strong>getTimedTask</strong>(<code><span class="token property">id</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code> | <code><span class="token keyword">null</span></code>&gt;</p><p>\u6839\u636E\u4EFB\u52A1id\u83B7\u53D6\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p><strong><code>\u53C2\u89C1</code></strong></p><p>Task.id</p><h4 id="\u53C2\u6570-7" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-7" aria-hidden="true">#</a> \u53C2\u6570</h4><table><thead><tr><th style="text-align:left;">\u540D\u79F0</th><th style="text-align:left;">\u7C7B\u578B</th><th style="text-align:left;">\u63CF\u8FF0</th></tr></thead><tbody><tr><td style="text-align:left;"><code><span class="token property">id</span></code></td><td style="text-align:left;"><code><span class="token property">number</span></code></td><td style="text-align:left;">\u4EFB\u52A1ID</td></tr></tbody></table><h4 id="\u8FD4\u56DE\u503C-7" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-7" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code> | <code><span class="token keyword">null</span></code>&gt;</p><p>\u67E5\u8BE2\u7684\u4EFB\u52A1\u7684Promise\uFF0C\u5982\u679C\u6CA1\u6709\u627E\u5230\u5219resolve null</p><hr><h3 id="queryintenttasks" tabindex="-1"><a class="header-anchor" href="#queryintenttasks" aria-hidden="true">#</a> queryIntentTasks</h3><p>\u25B8 <strong>queryIntentTasks</strong>(<code>query<span class="token operator">?</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>[]&gt;</p><p>\u901A\u8FC7\u811A\u672C\u8DEF\u5F84\u6216Intent Action\u7B49\u6761\u4EF6\u67E5\u8BE2\u610F\u56FE\u4EFB\u52A1\u3002</p><p><strong><code>\u793A\u4F8B</code></strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> queryIntentTasks<span class="token punctuation">,</span> addBroadcastIntentTask <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;work_manager&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> task <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">addBroadcastIntentTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/sdcard/to/script.js&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">action</span><span class="token operator">:</span> Intent<span class="token punctuation">.</span><span class="token constant">ACTION_BATTERY_CHANGED</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Query all intent tasks</span>
    <span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">queryIntentTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="\u53C2\u6570-8" tabindex="-1"><a class="header-anchor" href="#\u53C2\u6570-8" aria-hidden="true">#</a> \u53C2\u6570</h4>`,42),J=n("thead",null,[n("tr",null,[n("th",{style:{"text-align":"left"}},"\u540D\u79F0"),n("th",{style:{"text-align":"left"}},"\u7C7B\u578B"),n("th",{style:{"text-align":"left"}},"\u63CF\u8FF0")])],-1),X=n("td",{style:{"text-align":"left"}},[n("code",null,[s("query"),n("span",{class:"token operator"},"?")])],-1),Z={style:{"text-align":"left"}},nn=n("code",null,[n("span",{class:"token property"},"IntentTaskQuery")],-1),sn=n("td",{style:{"text-align":"left"}},"intent\u4EFB\u52A1\u67E5\u8BE2\u6761\u4EF6\uFF0C\u4E3A\u7A7A\u5219\u67E5\u8BE2\u6240\u6709\u4EFB\u52A1",-1),an=p(`<h4 id="\u8FD4\u56DE\u503C-8" tabindex="-1"><a class="header-anchor" href="#\u8FD4\u56DE\u503C-8" aria-hidden="true">#</a> \u8FD4\u56DE\u503C</h4><p><code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>[]&gt;</p><hr><h3 id="querytimedtasks" tabindex="-1"><a class="header-anchor" href="#querytimedtasks" aria-hidden="true">#</a> queryTimedTasks</h3><p>\u25B8 <strong>queryTimedTasks</strong>(<code>query<span class="token operator">?</span></code>): <code><span class="token property">Promise</span></code>&lt;<code><span class="token property">Task</span></code>[]&gt;</p><p>\u901A\u8FC7\u811A\u672C\u8DEF\u5F84\u7B49\u6761\u4EF6\u67E5\u8BE2\u5B9A\u65F6\u4EFB\u52A1\u3002</p><p><strong><code>\u793A\u4F8B</code></strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&quot;nodejs&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> work_manager <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;work-manager&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token string">&quot;/path/to/script.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> task <span class="token operator">=</span> <span class="token keyword">await</span> work_manager<span class="token punctuation">.</span><span class="token function">addWeeklyTask</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> file<span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1624252440000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">daysOfWeek</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;Sunday&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token keyword">await</span> work_manager<span class="token punctuation">.</span><span class="token function">queryTimedTasks</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> file
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
tasks<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">t</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;delete:&quot;</span><span class="token punctuation">,</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">await</span> work_manager<span class="token punctuation">.</span><span class="token function">removeTimedTask</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

#### \u53C2\u6570

<span class="token operator">|</span> \u540D\u79F0 <span class="token operator">|</span> \u7C7B\u578B <span class="token operator">|</span> \u63CF\u8FF0 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">query?</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">|</span> <span class="token punctuation">[</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">TimedTaskQuery</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>interfaces<span class="token operator">/</span>work_manager<span class="token punctuation">.</span>TimedTaskQuery<span class="token punctuation">.</span>md<span class="token punctuation">)</span> <span class="token operator">|</span> \u5B9A\u65F6\u4EFB\u52A1\u67E5\u8BE2\u6761\u4EF6\uFF0C\u4E3A\u7A7A\u5219\u67E5\u8BE2\u6240\u6709\u4EFB\u52A1 <span class="token operator">|</span>

#### \u8FD4\u56DE\u503C

<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Promise</span><span class="token template-punctuation string">\`</span></span><span class="token operator">&lt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Task</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span>\\<span class="token operator">&gt;</span>

___

### removeIntentTask

\u25B8 <span class="token operator">**</span>removeIntentTask<span class="token operator">**</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Promise</span><span class="token template-punctuation string">\`</span></span><span class="token operator">&lt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">boolean</span><span class="token template-punctuation string">\`</span></span>\\<span class="token operator">&gt;</span>

\u901A\u8FC7\u4EFB\u52A1id\u5220\u9664\u4E00\u4E2A\u610F\u56FE\u4EFB\u52A1\u3002

<span class="token operator">**</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u53C2\u89C1</span><span class="token template-punctuation string">\`</span></span><span class="token operator">**</span>

Task<span class="token punctuation">.</span>id

#### \u53C2\u6570

<span class="token operator">|</span> \u540D\u79F0 <span class="token operator">|</span> \u7C7B\u578B <span class="token operator">|</span> \u63CF\u8FF0 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">number</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">|</span> \u4EFB\u52A1id <span class="token operator">|</span>

#### \u8FD4\u56DE\u503C

<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Promise</span><span class="token template-punctuation string">\`</span></span><span class="token operator">&lt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">boolean</span><span class="token template-punctuation string">\`</span></span>\\<span class="token operator">&gt;</span>

Promise\uFF0C\u8868\u793A\u662F\u5426\u5220\u9664\u6210\u529F\uFF0C\u82E5\u5BF9\u5E94\u7684\u4EFB\u52A1\u4E0D\u5B58\u5728\uFF0C\u5219resolve <span class="token boolean">false</span>\uFF0C\u5426\u5219resolve <span class="token boolean">true</span>

___

### removeTimedTask

\u25B8 <span class="token operator">**</span>removeTimedTask<span class="token operator">**</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Promise</span><span class="token template-punctuation string">\`</span></span><span class="token operator">&lt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">boolean</span><span class="token template-punctuation string">\`</span></span>\\<span class="token operator">&gt;</span>

\u901A\u8FC7\u4EFB\u52A1id\u5220\u9664\u4E00\u4E2A\u5B9A\u65F6\u4EFB\u52A1\u3002

<span class="token operator">**</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\u53C2\u89C1</span><span class="token template-punctuation string">\`</span></span><span class="token operator">**</span>

Task<span class="token punctuation">.</span>id

#### \u53C2\u6570

<span class="token operator">|</span> \u540D\u79F0 <span class="token operator">|</span> \u7C7B\u578B <span class="token operator">|</span> \u63CF\u8FF0 <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span> <span class="token operator">:</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">id</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">|</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">number</span><span class="token template-punctuation string">\`</span></span> <span class="token operator">|</span> \u4EFB\u52A1id <span class="token operator">|</span>

#### \u8FD4\u56DE\u503C

<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Promise</span><span class="token template-punctuation string">\`</span></span><span class="token operator">&lt;</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">boolean</span><span class="token template-punctuation string">\`</span></span>\\<span class="token operator">&gt;</span>

Promise\uFF0C\u8868\u793A\u662F\u5426\u5220\u9664\u6210\u529F\uFF0C\u82E5\u5BF9\u5E94\u7684\u4EFB\u52A1\u4E0D\u5B58\u5728\uFF0C\u5219resolve <span class="token boolean">false</span>\uFF0C\u5426\u5219resolve <span class="token boolean">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,8);function tn(en,pn){const t=l("RouterLink"),o=l("ExternalLinkIcon");return i(),r("div",null,[d,n("ul",null,[n("li",null,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskConfig.html"},{default:e(()=>[s("IntentTaskConfig")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskQuery.html"},{default:e(()=>[s("IntentTaskQuery")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.TaskConfig.html"},{default:e(()=>[s("TaskConfig")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.TimedTaskConfig.html"},{default:e(()=>[s("TimedTaskConfig")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.TimedTaskQuery.html"},{default:e(()=>[s("TimedTaskQuery")]),_:1})])]),k,n("ul",null,[n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#datetime"},{default:e(()=>[s("DateTime")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#daysofweek"},{default:e(()=>[s("DaysOfWeek")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#tasktype"},{default:e(()=>[s("TaskType")]),_:1})])]),m,n("ul",null,[n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#addactivityintenttask"},{default:e(()=>[s("addActivityIntentTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#addbroadcastintenttask"},{default:e(()=>[s("addBroadcastIntentTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#adddailytask"},{default:e(()=>[s("addDailyTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#addintenttask"},{default:e(()=>[s("addIntentTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#addonetimetask"},{default:e(()=>[s("addOneTimeTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#addweeklytask"},{default:e(()=>[s("addWeeklyTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#getintenttask"},{default:e(()=>[s("getIntentTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#gettimedtask"},{default:e(()=>[s("getTimedTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#queryintenttasks"},{default:e(()=>[s("queryIntentTasks")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#querytimedtasks"},{default:e(()=>[s("queryTimedTasks")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#removeintenttask"},{default:e(()=>[s("removeIntentTask")]),_:1})]),n("li",null,[a(t,{to:"/zh/v9/generated/modules/work_manager.html#removetimedtask"},{default:e(()=>[s("removeTimedTask")]),_:1})])]),g,n("ul",null,[v,n("li",null,[s("\u66F4\u591AAction\u53C2\u89C1"),n("a",h,[s("Intent: Action"),a(o)])])]),y,n("table",null,[b,n("tbody",null,[n("tr",null,[f,n("td",_,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskConfig.html"},{default:e(()=>[T]),_:1})]),q])])]),x,n("p",null,[s("\u53EF\u4EE5\u5728Android\u6587\u6863"),n("a",w,[s("Intent: Action"),a(o)]),s("\u4E2D\u627E\u5230\u5927\u591A\u6570Android\u7CFB\u7EDF\u81EA\u5E26\u7684Intent Action\uFF1B\u4E00\u4E9B\u7CFB\u7EDF\u7EC4\u4EF6\u4E5F\u4F1A\u81EA\u5B9A\u4E49\u81EA\u5DF1\u7684Action\uFF0C\u6BD4\u5982\u7F51\u7EDC\u8FDE\u63A5\u53D8\u5316\u65F6\u89E6\u53D1\u7684Action\u662F"),I,s("\uFF08\u4F7F\u7528\u65F6\u9700\u8981\u5BFC\u5165ConnectivityManager)\u3002")]),A,n("table",null,[C,n("tbody",null,[n("tr",null,[j,n("td",E,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskConfig.html"},{default:e(()=>[P]),_:1})]),O])])]),N,n("table",null,[D,n("tbody",null,[n("tr",null,[z,n("td",B,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.TimedTaskConfig.html"},{default:e(()=>[W]),_:1})]),R])])]),M,n("p",null,[s("\u63A8\u8350\u4F7F\u7528"),a(t,{to:"/zh/v9/generated/modules/work_manager.html#addbroadcastintenttask"},{default:e(()=>[s("addBroadcastIntentTask")]),_:1}),s("\u548C"),a(t,{to:"/zh/v9/generated/modules/work_manager.html#addactivityintenttask"},{default:e(()=>[s("addActivityIntentTask")]),_:1}),s("\uFF0C\u800C\u975E\u76F4\u63A5\u4F7F\u7528\u672C\u51FD\u6570\u6DFB\u52A0\u4EFB\u52A1\u3002")]),S,n("table",null,[G,n("tbody",null,[n("tr",null,[V,n("td",L,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskConfig.html"},{default:e(()=>[Q]),_:1})])])])]),F,n("table",null,[U,n("tbody",null,[n("tr",null,[H,n("td",Y,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.TimedTaskConfig.html"},{default:e(()=>[K]),_:1})])])])]),$,n("table",null,[J,n("tbody",null,[n("tr",null,[X,n("td",Z,[a(t,{to:"/zh/v9/generated/interfaces/work_manager.IntentTaskQuery.html"},{default:e(()=>[nn]),_:1})]),sn])])]),an])}const cn=c(u,[["render",tn],["__file","work_manager.html.vue"]]);export{cn as default};
