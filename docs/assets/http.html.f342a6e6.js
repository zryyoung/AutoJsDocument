import{_ as o}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as e,c,a as n,b as s,d as t,e as p,r as l}from"./app.6aa2b576.js";const u={},i=p(`<h1 id="http-http\u7F51\u7EDC\u8BF7\u6C42" tabindex="-1"><a class="header-anchor" href="#http-http\u7F51\u7EDC\u8BF7\u6C42" aria-hidden="true">#</a> http - HTTP\u7F51\u7EDC\u8BF7\u6C42</h1><blockquote><p>Stability: 2 - Stable</p></blockquote><p>http\u6A21\u5757\u63D0\u4F9B\u4E00\u4E9B\u8FDB\u884Chttp\u8BF7\u6C42\u7684\u51FD\u6570\u3002</p><h2 id="http-get-url-options-callback" tabindex="-1"><a class="header-anchor" href="#http-get-url-options-callback" aria-hidden="true">#</a> http.get(url[, options, callback])</h2><ul><li><code><span class="token property">url</span></code> {string} \u8BF7\u6C42\u7684URL\u5730\u5740\uFF0C\u9700\u8981\u4EE5&quot;http://&quot;\u6216&quot;https://&quot;\u5F00\u5934\u3002\u5982\u679Curl\u6CA1\u6709\u4EE5&quot;http://&quot;\u5F00\u5934\uFF0C\u5219\u9ED8\u8BA4\u4E3A&quot;http://&quot;\u3002</li><li><code><span class="token property">options</span></code> {Object} \u8BF7\u6C42\u9009\u9879\u3002\u53C2\u89C1[http.request()][]\u3002</li><li><code><span class="token property">callback</span></code> {Function} \u56DE\u8C03\u51FD\u6570\uFF0C\u53EF\u9009\uFF0C\u5176\u53C2\u6570\u662F\u4E00\u4E2A[Response][]\u5BF9\u8C61\u3002\u5982\u679C\u4E0D\u52A0\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u8BE5\u8BF7\u6C42\u5C06\u963B\u585E\u3001\u540C\u6B65\u5730\u6267\u884C\u3002</li></ul><p>\u5BF9\u5730\u5740url\u8FDB\u884C\u4E00\u6B21HTTP GET \u8BF7\u6C42\u3002\u5982\u679C\u6CA1\u6709\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u5728\u8BF7\u6C42\u5B8C\u6210\u6216\u5931\u8D25\u65F6\u8FD4\u56DE\u6B64\u6B21\u8BF7\u6C42\u7684\u54CD\u5E94(\u53C2\u89C1[Response][])\u3002</p><p>\u6700\u7B80\u5355GET\u8BF7\u6C42\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;code = &quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;html = &quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u91C7\u7528\u56DE\u8C03\u5F62\u5F0F\u7684GET\u8BF7\u6C42\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;www.baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">res<span class="token punctuation">,</span> err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">if</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;code = &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;html = &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u8981\u589E\u52A0HTTP\u5934\u90E8\u4FE1\u606F\uFF0C\u5219\u5728options\u53C2\u6570\u4E2D\u6DFB\u52A0\uFF0C\u4F8B\u5982\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> r <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;www.baidu.com&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string-property property">&#39;Accept-Language&#39;</span><span class="token operator">:</span> <span class="token string">&#39;zh-cn,zh;q=0.5&#39;</span><span class="token punctuation">,</span>
		<span class="token string-property property">&#39;User-Agent&#39;</span><span class="token operator">:</span> <span class="token string">&#39;Mozilla/5.0(Macintosh;IntelMacOSX10_7_0)AppleWebKit/535.11(KHTML,likeGecko)Chrome/17.0.963.56Safari/535.11&#39;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;code = &quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>statusCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;html = &quot;</span> <span class="token operator">+</span> r<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4E00\u4E2A\u8BF7\u6C42\u5929\u6C14\u5E76\u89E3\u6790\u8FD4\u56DE\u7684\u5929\u6C14JSON\u7ED3\u679C\u7684\u4F8B\u5B50\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> city <span class="token operator">=</span> <span class="token string">&quot;\u5E7F\u5DDE&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://www.sojson.com/open/api/weather/json.shtml?city=&quot;</span> <span class="token operator">+</span> city<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">!=</span> <span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u8BF7\u6C42\u5931\u8D25: &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>statusCode <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>statusMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token keyword">var</span> weather <span class="token operator">=</span> res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">log</span><span class="token punctuation">(</span>weather<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">toast</span><span class="token punctuation">(</span>util<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;\u6E29\u5EA6: %s \u6E7F\u5EA6: %s \u7A7A\u6C14\u8D28\u91CF: %s&quot;</span><span class="token punctuation">,</span> weather<span class="token punctuation">.</span>data<span class="token punctuation">.</span>wendu<span class="token punctuation">,</span>
		weather<span class="token punctuation">.</span>data<span class="token punctuation">.</span>shidu<span class="token punctuation">,</span> weather<span class="token punctuation">.</span>quality<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-post-url-data-options-callback" tabindex="-1"><a class="header-anchor" href="#http-post-url-data-options-callback" aria-hidden="true">#</a> http.post(url, data[, options, callback])</h2><ul><li><code><span class="token property">url</span></code> {string} \u8BF7\u6C42\u7684URL\u5730\u5740\uFF0C\u9700\u8981\u4EE5&quot;http://&quot;\u6216&quot;https://&quot;\u5F00\u5934\u3002\u5982\u679Curl\u6CA1\u6709\u4EE5&quot;http://&quot;\u5F00\u5934\uFF0C\u5219\u9ED8\u8BA4\u4E3A&quot;http://&quot;\u3002</li><li><code><span class="token property">data</span></code> {string} | {Object} POST\u6570\u636E\u3002</li><li><code><span class="token property">options</span></code> {Object} \u8BF7\u6C42\u9009\u9879\u3002</li><li><code><span class="token property">callback</span></code> {Function} \u56DE\u8C03\uFF0C\u5176\u53C2\u6570\u662F\u4E00\u4E2A[Response][]\u5BF9\u8C61\u3002\u5982\u679C\u4E0D\u52A0\u56DE\u8C03\u53C2\u6570\uFF0C\u5219\u8BE5\u8BF7\u6C42\u5C06\u963B\u585E\u3001\u540C\u6B65\u5730\u6267\u884C\u3002</li></ul><p>\u5BF9\u5730\u5740url\u8FDB\u884C\u4E00\u6B21HTTP POST \u8BF7\u6C42\u3002\u5982\u679C\u6CA1\u6709\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u5728\u8BF7\u6C42\u5B8C\u6210\u6216\u5931\u8D25\u65F6\u8FD4\u56DE\u6B64\u6B21\u8BF7\u6C42\u7684\u54CD\u5E94(\u53C2\u89C1[Response][])\u3002</p><p>\u5176\u4E2DPOST\u6570\u636E\u53EF\u4EE5\u662F\u5B57\u7B26\u4E32\u6216\u952E\u503C\u5BF9\u3002\u5177\u4F53\u542B\u4E49\u53D6\u51B3\u4E8Eoptions.contentType\u7684\u503C\u3002\u9ED8\u8BA4\u4E3A&quot;application/x-www-form-urlencoded&quot;(\u8868\u5355\u63D0\u4EA4), \u8FD9\u79CD\u65B9\u5F0F\u662FJQuery\u7684ajax\u51FD\u6570\u7684\u9ED8\u8BA4\u65B9\u5F0F\u3002</p><p>\u4E00\u4E2A\u6A21\u62DF\u8868\u5355\u63D0\u4EA4\u767B\u5F55\u6DD8\u5B9D\u7684\u4F8B\u5B50\u5982\u4E0B:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;https://login.taobao.com/member/login.jhtml&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token string">&quot;\u4F60\u7684\u7528\u6237\u540D&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> password <span class="token operator">=</span> <span class="token string">&quot;\u4F60\u7684\u5BC6\u7801&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token string-property property">&quot;TPL_username&quot;</span><span class="token operator">:</span> username<span class="token punctuation">,</span>
	<span class="token string-property property">&quot;TPL_password&quot;</span><span class="token operator">:</span> password
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> html <span class="token operator">=</span> res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>html<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;\u9875\u9762\u8DF3\u8F6C\u4E2D&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u767B\u5F55\u6210\u529F&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u767B\u5F55\u5931\u8D25&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-postjson-url-data-options-callback" tabindex="-1"><a class="header-anchor" href="#http-postjson-url-data-options-callback" aria-hidden="true">#</a> http.postJson(url[, data, options, callback])</h2><ul><li><code><span class="token property">url</span></code> {string} \u8BF7\u6C42\u7684URL\u5730\u5740\uFF0C\u9700\u8981\u4EE5&quot;http://&quot;\u6216&quot;https://&quot;\u5F00\u5934\u3002\u5982\u679Curl\u6CA1\u6709\u4EE5&quot;http://&quot;\u5F00\u5934\uFF0C\u5219\u9ED8\u8BA4\u4E3A&quot;http://&quot;\u3002</li><li><code><span class="token property">data</span></code> {Object} POST\u6570\u636E\u3002</li><li><code><span class="token property">options</span></code> {Object} \u8BF7\u6C42\u9009\u9879\u3002</li><li><code><span class="token property">callback</span></code> {Function} \u56DE\u8C03\uFF0C\u5176\u53C2\u6570\u662F\u4E00\u4E2A[Response][]\u5BF9\u8C61\u3002\u5982\u679C\u4E0D\u52A0\u56DE\u8C03\u53C2\u6570\uFF0C\u5219\u8BE5\u8BF7\u6C42\u5C06\u963B\u585E\u3001\u540C\u6B65\u5730\u6267\u884C\u3002</li></ul><p>\u4EE5JSON\u683C\u5F0F\u5411\u76EE\u6807Url\u53D1\u8D77POST\u8BF7\u6C42\u3002\u5982\u679C\u6CA1\u6709\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u5728\u8BF7\u6C42\u5B8C\u6210\u6216\u5931\u8D25\u65F6\u8FD4\u56DE\u6B64\u6B21\u8BF7\u6C42\u7684\u54CD\u5E94(\u53C2\u89C1[Response][])\u3002</p><p>JSON\u683C\u5F0F\u6307\u7684\u662F\uFF0C\u5C06\u4F1A\u8C03\u7528<code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>\u628Adata\u5BF9\u8C61\u8F6C\u6362\u4E3AJSON\u5B57\u7B26\u4E32\uFF0C\u5E76\u5728HTTP\u5934\u90E8\u4FE1\u606F\u4E2D\u628A&quot;Content-Type&quot;\u5C5E\u6027\u7F6E\u4E3A&quot;application/json&quot;\u3002\u8FD9\u79CD\u65B9\u5F0F\u662FAngularJS\u7684ajax\u51FD\u6570\u7684\u9ED8\u8BA4\u65B9\u5F0F\u3002</p><p>\u4E00\u4E2A\u8C03\u7528\u56FE\u7075\u673A\u5668\u4EBA\u63A5\u53E3\u7684\u4F8B\u5B50\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token string">&quot;http://www.tuling123.com/openapi/api&quot;</span><span class="token punctuation">;</span>
r <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">postJson</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;65458a5df537443b89b31f1c03202a80&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">info</span><span class="token operator">:</span> <span class="token string">&quot;\u4F60\u597D\u554A&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">userid</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">toastLog</span><span class="token punctuation">(</span>r<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-postmultipart-url-files-options-callback" tabindex="-1"><a class="header-anchor" href="#http-postmultipart-url-files-options-callback" aria-hidden="true">#</a> http.postMultipart(url, files[, options, callback])</h2><ul><li><code><span class="token property">url</span></code> {string} \u8BF7\u6C42\u7684URL\u5730\u5740\uFF0C\u9700\u8981\u4EE5&quot;http://&quot;\u6216&quot;https://&quot;\u5F00\u5934\u3002\u5982\u679Curl\u6CA1\u6709\u4EE5&quot;http://&quot;\u5F00\u5934\uFF0C\u5219\u9ED8\u8BA4\u4E3A&quot;http://&quot;\u3002</li><li><code><span class="token property">files</span></code> {Object} POST\u6570\u636E\u3002</li><li><code><span class="token property">options</span></code> {Object} \u8BF7\u6C42\u9009\u9879\u3002</li><li><code><span class="token property">callback</span></code> {Function} \u56DE\u8C03\uFF0C\u5176\u53C2\u6570\u662F\u4E00\u4E2A<code><span class="token property">Response</span></code>\u5BF9\u8C61\u3002\u5982\u679C\u4E0D\u52A0\u56DE\u8C03\u53C2\u6570\uFF0C\u5219\u8BE5\u8BF7\u6C42\u5C06\u963B\u585E\u3001\u540C\u6B65\u5730\u6267\u884C\u3002</li></ul><p>\u5411\u76EE\u6807\u5730\u5740\u53D1\u8D77\u7C7B\u578B\u4E3Amultipart/form-data\u7684\u8BF7\u6C42\uFF08\u901A\u5E38\u7528\u4E8E\u6587\u4EF6\u4E0A\u4F20\u7B49), \u5176\u4E2Dfiles\u53C2\u6570\u662F{name1: value1, name2: value2, ...}\u7684\u952E\u503C\u5BF9\uFF0Cvalue\u7684\u683C\u5F0F\u53EF\u4EE5\u662F\u4EE5\u4E0B\u51E0\u79CD\u60C5\u51B5\uFF1A</p><ol><li><code><span class="token property">string</span></code></li><li>\u6587\u4EF6\u7C7B\u578B\uFF0C\u5373open()\u8FD4\u56DE\u7684\u7C7B\u578B</li><li>[fileName, filePath]</li><li>[fileName, mimeType, filePath]</li></ol><p>\u5176\u4E2D1\u5C5E\u4E8E\u975E\u6587\u4EF6\u53C2\u6570\uFF0C2\u30013\u30014\u4E3A\u6587\u4EF6\u53C2\u6570\u3002\u4E3E\u4E2A\u4F8B\u5B50\uFF0C\u6700\u7B80\u5355\u7684\u6587\u4EF6\u4E0A\u4F20\u7684\u8BF7\u6C42\u4E3A\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">postMultipart</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;/sdcard/1.txt&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F7F\u7528\u683C\u5F0F2\uFF0C\u5219\u4EE3\u7801\u4E3A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">postMultipart</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/sdcard/1.txt&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F7F\u7528\u683C\u5F0F3\uFF0C\u5219\u4EE3\u7801\u4E3A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">postMultipart</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/sdcard/1.txt&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5982\u679C\u4F7F\u7528\u683C\u5F0F2\u7684\u540C\u65F6\u8981\u9644\u5E26\u975E\u6587\u4EF6\u53C2\u6570&quot;appId=test&quot;\uFF0C\u5219\u4E3A:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">postMultipart</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">&quot;test&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">file</span><span class="token operator">:</span> <span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;/sdcard/1.txt&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">string</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="http-request-url-options-callback" tabindex="-1"><a class="header-anchor" href="#http-request-url-options-callback" aria-hidden="true">#</a> http.request(url[, options, callback])</h2><ul><li><code><span class="token property">url</span></code> {string} \u8BF7\u6C42\u7684URL\u5730\u5740\uFF0C\u9700\u8981\u4EE5&quot;http://&quot;\u6216&quot;https://&quot;\u5F00\u5934\u3002\u5982\u679Curl\u6CA1\u6709\u4EE5&quot;http://&quot;\u5F00\u5934\uFF0C\u5219\u9ED8\u8BA4\u4E3A&quot;http://&quot;\u3002</li><li><code><span class="token property">options</span></code> {Object} \u8BF7\u6C42\u9009\u9879\u3002\u53C2\u89C1[http.buildRequest()][]\u3002</li><li><code><span class="token property">callback</span></code> {Function} \u56DE\u8C03\uFF0C\u5176\u53C2\u6570\u662F\u4E00\u4E2A[Response][]\u5BF9\u8C61\u3002\u5982\u679C\u4E0D\u52A0\u56DE\u8C03\u53C2\u6570\uFF0C\u5219\u8BE5\u8BF7\u6C42\u5C06\u963B\u585E\u3001\u540C\u6B65\u5730\u6267\u884C\u3002</li></ul><p>\u5BF9\u76EE\u6807\u5730\u5740url\u53D1\u8D77\u4E00\u6B21HTTP\u8BF7\u6C42\u3002\u5982\u679C\u6CA1\u6709\u56DE\u8C03\u51FD\u6570\uFF0C\u5219\u5728\u8BF7\u6C42\u5B8C\u6210\u6216\u5931\u8D25\u65F6\u8FD4\u56DE\u6B64\u6B21\u8BF7\u6C42\u7684\u54CD\u5E94(\u53C2\u89C1[Response][])\u3002</p><p>\u9009\u9879options\u53EF\u4EE5\u5305\u542B\u4EE5\u4E0B\u5C5E\u6027\uFF1A</p>`,42),r=n("code",null,[n("span",{class:"token property"},"headers")],-1),k={href:"http://www.runoob.com/http/http-header-fields.html",target:"_blank",rel:"noopener noreferrer"},d=n("li",null,[n("code",null,[n("span",{class:"token property"},"method")]),s(' {string} HTTP\u8BF7\u6C42\u65B9\u6CD5\u3002\u5305\u62EC"GET", "POST", "PUT", "DELETE", "PATCH"\u3002')],-1),v=n("code",null,[n("span",{class:"token property"},"contentType")],-1),h={href:"http://www.runoob.com/http/http-content-type.html",target:"_blank",rel:"noopener noreferrer"},b=n("code",null,[n("span",{class:"token property"},"body")],-1),m={href:"https://github.com/square/okio/blob/master/okio/src/main/java/okio/BufferedSink.java",target:"_blank",rel:"noopener noreferrer"},g=n("p",null,"\u8BE5\u51FD\u6570\u662Fget, post, postJson\u7B49\u51FD\u6570\u7684\u57FA\u7840\u51FD\u6570\u3002\u56E0\u6B64\u9664\u975E\u662FPUT, DELETE\u7B49\u8BF7\u6C42\uFF0C\u6216\u8005\u9700\u8981\u66F4\u9AD8\u5B9A\u5236\u7684HTTP\u8BF7\u6C42\uFF0C\u5426\u5219\u76F4\u63A5\u4F7F\u7528get, post, postJson\u7B49\u51FD\u6570\u4F1A\u66F4\u52A0\u65B9\u4FBF\u3002",-1),q=n("h1",{id:"response",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#response","aria-hidden":"true"},"#"),s(" Response")],-1),f=n("p",null,"HTTP\u8BF7\u6C42\u7684\u54CD\u5E94\u3002",-1),y=n("h2",{id:"response-statuscode",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#response-statuscode","aria-hidden":"true"},"#"),s(" Response.statusCode")],-1),w=n("ul",null,[n("li",null,"{number}")],-1),T=n("p",null,"\u5F53\u524D\u54CD\u5E94\u7684HTTP\u72B6\u6001\u7801\u3002\u4F8B\u5982200(OK), 404(Not Found)\u7B49\u3002",-1),_={href:"http://www.runoob.com/http/http-status-codes.html",target:"_blank",rel:"noopener noreferrer"},j=n("h2",{id:"response-statusmessage",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#response-statusmessage","aria-hidden":"true"},"#"),s(" Response.statusMessage")],-1),x=n("ul",null,[n("li",null,"{string}")],-1),P=n("p",null,'\u5F53\u524D\u54CD\u5E94\u7684HTTP\u72B6\u6001\u4FE1\u606F\u3002\u4F8B\u5982"OK", "Bad Request", "Forbidden"\u3002',-1),H={href:"http://www.runoob.com/http/http-status-codes.html",target:"_blank",rel:"noopener noreferrer"},O=p(`<p>\u4F8B\u5B50\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;www.baidu.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> res<span class="token punctuation">.</span>statusCode <span class="token operator">&lt;</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u9875\u9762\u83B7\u53D6\u6210\u529F!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>statusCode <span class="token operator">==</span> <span class="token number">404</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u9875\u9762\u6CA1\u627E\u5230\u54E6...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
	<span class="token function">toast</span><span class="token punctuation">(</span><span class="token string">&quot;\u9519\u8BEF: &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>statusCode <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> res<span class="token punctuation">.</span>statusMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="response-headers" tabindex="-1"><a class="header-anchor" href="#response-headers" aria-hidden="true">#</a> Response.headers</h2><ul><li>{Object}</li></ul><p>\u5F53\u524D\u54CD\u5E94\u7684HTTP\u5934\u90E8\u4FE1\u606F\u3002\u8BE5\u5BF9\u8C61\u7684\u952E\u662F\u54CD\u5E94\u5934\u540D\u79F0\uFF0C\u503C\u662F\u5404\u81EA\u7684\u54CD\u5E94\u5934\u503C\u3002 \u6240\u6709\u54CD\u5E94\u5934\u540D\u79F0\u90FD\u662F\u5C0F\u5199\u7684(\u5417)\u3002</p>`,5),R={href:"http://www.runoob.com/http/http-header-fields.html",target:"_blank",rel:"noopener noreferrer"},S=p(`<p>\u4F8B\u5B50:</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> http<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;www.qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;HTTP Headers:&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> headerName <span class="token keyword">in</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;%s: %s&quot;</span><span class="token punctuation">,</span> headerName<span class="token punctuation">,</span> res<span class="token punctuation">.</span>headers<span class="token punctuation">[</span>headerName<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="response-body" tabindex="-1"><a class="header-anchor" href="#response-body" aria-hidden="true">#</a> Response.body</h2><ul><li>{Object}</li></ul><p>\u5F53\u524D\u54CD\u5E94\u7684\u5185\u5BB9\u3002\u4ED6\u6709\u4EE5\u4E0B\u5C5E\u6027\u548C\u51FD\u6570\uFF1A</p><ul><li>bytes() {Array} \u4EE5\u5B57\u8282\u6570\u7EC4\u5F62\u5F0F\u8FD4\u56DE\u54CD\u5E94\u5185\u5BB9</li><li>string() {string} \u4EE5\u5B57\u7B26\u4E32\u5F62\u5F0F\u8FD4\u56DE\u54CD\u5E94\u5185\u5BB9</li><li>json() {Object} \u628A\u54CD\u5E94\u5185\u5BB9\u4F5C\u4E3AJSON\u683C\u5F0F\u7684\u6570\u636E\u5E76\u8C03\u7528JSON.parse\uFF0C\u8FD4\u56DE\u89E3\u6790\u540E\u7684\u5BF9\u8C61</li><li>contentType {string} \u5F53\u524D\u54CD\u5E94\u7684\u5185\u5BB9\u7C7B\u578B</li></ul><h2 id="response-request" tabindex="-1"><a class="header-anchor" href="#response-request" aria-hidden="true">#</a> Response.request</h2><ul><li>{Request} \u5F53\u524D\u54CD\u5E94\u6240\u5BF9\u5E94\u7684\u8BF7\u6C42\u3002\u53C2\u89C1[Request][]\u3002</li></ul><h2 id="response-url" tabindex="-1"><a class="header-anchor" href="#response-url" aria-hidden="true">#</a> Response.url</h2><ul><li>{number} \u5F53\u524D\u54CD\u5E94\u6240\u5BF9\u5E94\u7684\u8BF7\u6C42URL\u3002</li></ul><h2 id="response-method" tabindex="-1"><a class="header-anchor" href="#response-method" aria-hidden="true">#</a> Response.method</h2><ul><li>{string} \u5F53\u524D\u54CD\u5E94\u6240\u5BF9\u5E94\u7684HTTP\u8BF7\u6C42\u7684\u65B9\u6CD5\u3002\u4F8B\u5982&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;\u7B49\u3002</li></ul>`,12);function N(C,L){const a=l("ExternalLinkIcon");return e(),c("div",null,[i,n("ul",null,[n("li",null,[r,s(" {Object} \u952E\u503C\u5BF9\u5F62\u5F0F\u7684HTTP\u5934\u90E8\u4FE1\u606F\u3002\u6709\u5173HTTP\u5934\u90E8\u4FE1\u606F\uFF0C\u53C2\u89C1"),n("a",k,[s("\u83DC\u9E1F\u6559\u7A0B\uFF1AHTTP\u54CD\u5E94\u5934\u4FE1\u606F"),t(a)]),s("\u3002")]),d,n("li",null,[v,s(' {string} HTTP\u5934\u90E8\u4FE1\u606F\u4E2D\u7684"Content-Type", \u8868\u793AHTTP\u8BF7\u6C42\u7684\u5185\u5BB9\u7C7B\u578B\u3002\u4F8B\u5982"text/plain", "application/json"\u3002\u66F4\u591A\u4FE1\u606F\u53C2\u89C1'),n("a",h,[s("\u83DC\u9E1F\u6559\u7A0B\uFF1AHTTP contentType"),t(a)]),s("\u3002")]),n("li",null,[b,s(" {string} | {Array} | {Function} HTTP\u8BF7\u6C42\u7684\u5185\u5BB9\u3002\u53EF\u4EE5\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32\uFF0C\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u5B57\u8282\u6570\u7EC4\uFF1B\u6216\u8005\u662F\u4E00\u4E2A\u4EE5"),n("a",m,[s("BufferedSink"),t(a)]),s("\u4E3A\u53C2\u6570\u7684\u51FD\u6570\u3002")])]),g,q,f,y,w,T,n("p",null,[s("\u6709\u5173HTTP\u72B6\u6001\u7801\u7684\u4FE1\u606F\uFF0C\u53C2\u89C1"),n("a",_,[s("\u83DC\u9E1F\u6559\u7A0B\uFF1AHTTP\u72B6\u6001\u7801"),t(a)]),s("\u3002")]),j,x,P,n("p",null,[s("\u6709\u5173HTTP\u72B6\u6001\u7801\u7684\u4FE1\u606F\uFF0C\u53C2\u89C1"),n("a",H,[s("\u83DC\u9E1F\u6559\u7A0B\uFF1AHTTP\u72B6\u6001\u7801"),t(a)]),s("\u3002")]),O,n("p",null,[s("\u6709\u5173HTTP\u5934\u90E8\u4FE1\u606F\uFF0C\u53C2\u89C1"),n("a",R,[s("\u83DC\u9E1F\u6559\u7A0B\uFF1AHTTP\u54CD\u5E94\u5934\u4FE1\u606F"),t(a)]),s("\u3002")]),S])}const M=o(u,[["render",N],["__file","http.html.vue"]]);export{M as default};
